<!---
;;
;;  This softeware is Copyright (c) 2009 A.F. Haffmans 
;;
;;    This file is part of cl-bliky.
;;
;;    cl-bliky is free software: you can redistribute it and/or modify
;;    it under the terms of the GNU General Public License as published by
;;   the Free Software Foundation, either version 3 of the License, or
;;    (at your option) any later version.
;;
;;    cl-bliky is distributed in the hope that it will be useful,
;;    but WITHOUT ANY WARRANTY; without even the implied warranty of
;;    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;;    GNU General Public License for more details.
;;
;;    You should have received a copy of the GNU General Public License
;;    along with cl-bliky.  If not, see <http://www.gnu.org/licenses/>.
;;
;;

--->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <title> Mohegan SkunkWorks  </title>
    <link rel="stylesheet" href="/style.css" type="text/css"/>
  </head>  

  <body>
    <div id="blog-title">
      <a href="/"> <h1> Mohegan SkunkWorks </h1> </a> 
    </div>
    
    <div id="mainClm">
      <div id="post">
	<div id="post-type" style="visibility:hidden">
	  <p>"post"</p>
	</div>
	<div id="post-timestamp" >
	  <p>Sun, 19 Jul 2009 11:49:05 EST </p>
	</div>
	<div id="post-header">
	  <h2> CL-BLIKY : A simple lisp based blog engine  </h2>
	</div>
	<div id="post-intro">
	  <P>I 'm writing this using a self rolled blog engine called cl-bliky. I'm indebted to an excellent <A HREF="http://roeim.net/vetle/docs/cl-webapp-intro/">tutorial</A> put together by <A HREF="http://roeim.net/vetle/">Vetle Roeim</A>. His goal was obviously to put together a compelling tutorial and he succeeded. My goal was to use lisp in a small programming project, and developing a simple and easily customizable blog engine seemed like a good start. </P>
	</div>
	<div id="post-body">
	  <P><BR>cl-bliky is build around a simple <A HREF="http://www.weitz.de/hunchentoot/">hunchentoot</A> web server. <A HREF="http://www.cliki.net/htmlgen">Dynamically generated html</A>  is used to provide a gui interface to provide an upload and edit facility for posts as well as a facility for publishing posts to the remote repository. <A HREF="http://common-lisp.net/project/elephant/">Elephant</A> is used together with <A HREF="http://www.oracle.com/technology/products/berkeley-db/index.html">Berkeley DB</A> to store the posts on the local disk.  <BR> <BR> The engine generates static pages from the posts stored in the database. These static pages are pushed a local git repository, which is then synced with a remote one hosted on <A HREF="http://www.github.com">github</A>. Hosting is done through  <A HREF="http://pages.github.com">github pages</A>. Each post has a title, an introduction and a body. I decided against some automated form of intro generation, because at the end of the day you"ll never be able to get it completely right. Leaving it in the hands of the writer seems more appropriate.  <BR> <BR> The engine recognizes two types of blog posts : regular posts, and side bar elements.  Side bar elements are used for things like a list of code repositories or other short notices.  <BR> <BR> Posts can be written in html and markdown and I'm using <A HREF="http://common-lisp.net/project/cl-markdown/">cl-markdown</A> to translate <A HREF="http://daringfireball.net/projects/markdown">markdown</A> to html.A 'feature' I added was to remove all line feed characters and to mark an empty line with an <HTML>  break which seems to be added by the web interface. This makes the encoding of 'hard' line breaks a little different from standard<A HREF="http://daringfireball.net/projects/markdown">markdown</A>. This is now a combination of less than three spaces at the end of a line plus an additional line break followed by less than three spaces.  <BR> <BR> Pushing the posts to the local or remote git repository is straight forward. I used sbcl's proprietary sb-ext to accomplish this. I haven't tried to use other lisp implementations.     <BR> <BR> Posts can be recreated from the git repo. I do this by sprinkling the html generated by bliky with various "&lt;div id=.." tags. That allows me to identify the various pieces I need to recreate the underlying object. I use <A HREF="http://www.cliki.net/CL-HTML-Parse">cl-html-parse</A> to do this, followed by <A HREF="http://www.cliki.net/htmlgen">htmlgen</A> to recreate the html in the posts.  <BR> <BR> There 's some loss in fidelity, since I don't translate the html back to markdown. Also, things delimited by brackets &#60& &#62;  are interpreted as tags by the <A HREF="http://www.cliki.net/CL-HTML-Parse">cl-html-parse</A>. The text can obviously be copied and pasted from the original post, so this shouldn't be too much of a problem.  <BR> <BR> The current implementation assumes that  <A HREF="http://pages.github.com">github pages</A> are used for hosting. However, it should be relatively simple to add hosting through any other simple page server. </HTML></P> 
	</div>
	<div id="post-timestamp-id" style="visibility:hidden">
	  <p>3457007345 </p>
	</div>
      </div>

      <div id="footer">
	<p>
	  Powered by <a href="http://www.github.com/fons/cl-bliky"> cl-bliky </a>
	</p>
      </div>
      
    </div><!-- end of main area -->

  </body>
</html>
