<!---
;;
;;  This softeware is Copyright (c) 2009 A.F. Haffmans 
;;
;;    This file is part of cl-bliky.
;;
;;    cl-bliky is free software: you can redistribute it and/or modify
;;    it under the terms of the GNU General Public License as published by
;;   the Free Software Foundation, either version 3 of the License, or
;;    (at your option) any later version.
;;
;;    cl-bliky is distributed in the hope that it will be useful,
;;    but WITHOUT ANY WARRANTY; without even the implied warranty of
;;    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;;    GNU General Public License for more details.
;;
;;    You should have received a copy of the GNU General Public License
;;    along with cl-bliky.  If not, see <http://www.gnu.org/licenses/>.
;;
;;

--->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <title> Programmer Notes  </title>
    <style type="text/css">
      /*-------------------------------------------------------------------
;;
;;  This softeware is Copyright (c) 2009 A.F. Haffmans 
;;
;;    This file is part of cl-bliky.
;;
;;    cl-bliky is free software: you can redistribute it and/or modify
;;    it under the terms of the GNU General Public License as published by
;;   the Free Software Foundation, either version 3 of the License, or
;;    (at your option) any later version.
;;
;;    cl-bliky is distributed in the hope that it will be useful,
;;    but WITHOUT ANY WARRANTY; without even the implied warranty of
;;    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;;    GNU General Public License for more details.
;;
;;    You should have received a copy of the GNU General Public License
;;    along with cl-bliky.  If not, see <http://www.gnu.org/licenses/>.
;;
;;

--------------------------------------------------------------------------*/


/*-----------------------------------------------------------------------------
Sheet   : All sheets
Purpose : General Formatting 
Comment : Default formatting, no tied to any template or div

This is probably NOT the right way, since I created specific formatting under
the 'general' settings, esp H1...

-------------------------------------------------------------------------------*/

body{
      margin:0px;
      padding:0x;
      #background:#ffffff;
      background:#eee9e9;
      #background:#fffacd;
      #color:#000011;
      font-size : 12px;
      font:normal 100% Sans-Serif;
      }

p {
    margin:0px;
    padding:0x;
    #background:#ffffff;
    background:#eee9e9;
    #color:#000011;
    font-size : 12px;
    font:normal 100% Sans-Serif;


    }

a{
   #padding:2px;
   margin:0px 0px 0px 0px;
   width:100%;
   border:none;
   color:#0000cc;
   text-decoration:none;
   }

a:hover{
         text-decoration:none;
         }

a:visited{
           color:#0000cc;
           }

h1,h2,h3,h4,h5,h6{
                   color:#595959;
                   #color:black;
                   #color:darkblue;
                   font:bold 100% Sans-Serif;
                   #padding:0px 0px 0px 0px;
                   margin:5px 0px 5px 0px;
                   #margin:0px 0px 5px 0px;
                   width:100%;
                   text-align:left;
                   }
h1 {
     font-size:180%;
     }


h2 {
     font-size:160%;
     }

h3 {
     font-size:110%;
     color:black;

     }

pre {  }

code{
      #border: 0.30em solid #D6D6D6;
      border-left: 0.3em solid #D6D6D6;
      display: block;
      padding: 1em 1em 1em 1em;
      color:#330066;
      background:#EDEDED;
      }


/*---------------------------------------------------------------
Sheet   : Index page
Purpose : Formats the main column
Comment : Basically sets up a two column format
       
----------------------------------------------------------------*/

#mainClm{
          float:left;
          padding:13px 50px 10px 5%;
          width:68%;
          }


/*---------------------------------------------------------------
Sheet   : All pages
Purpose : Formats the blog title
Comment : Seperate format for the blog title
       
----------------------------------------------------------------*/
#blog-title {
              width:75%;
              }


#blog-title h1 {
                 color: #0000cc;
                 font:bold 280% Sans-Serif;
                 float:right;
                 width:30%;
                 padding:20px 0px 0px 0px;
                 #border: 0.15em solid #D6D6D6;
                }


/*---------------------------------------------------------------
Sheet   : Import Page
Purpose : formats the import page
Comment : 
       
----------------------------------------------------------------*/

#import-header h1 {
                    color: #0000cc;
                    font:bold Sans-Serif;
                    width:100%;
                    padding:15px 0px 0px 0px;
                    font-size: 240%;
                    #border-bottom:solid 4px #0000cc;
                    }

#import-edit h1, h2, h3 h4, h5 {
                                 padding:0px 0px 0px 0px;
                                 color: #0000cc;
                                 font:bold Verdana,Sans-Serif;
                                 width:100%;
                                 #border-bottom:solid 2px #0000cc;
                                 }

#import-edit h2 {
                  font-size: 160%;
                  }


/*---------------------------------------------------------------
Sheet   : Index Page / index.tmpl
Purpose : Formats the side bar
Comment : This is the sidebar to the left of the page
       
----------------------------------------------------------------*/

#sideBar{
          padding:220px 0px 0px 0px;
          text-align:left;
          background:#eee9e9;
          font-size : 12px;
          font:normal 100% Sans-Serif;

          }

#sideBar p {
             margin:0px 0px 0px 0px;
             text-align:left;
             background:#eee9e9;
             font-size : 12px;
             font:normal 100% Sans-Serif;
             }

#sideBar h2 {
              color:#0000cc;
              font-size:120%;
             }

#sideBar ul{
             margin:0px 0px 33px 0px;
             list-style-type:none;
             font-size:100%;
             }

#sideBar li {
              list-style-type:none;
              color:#111111
              }

#sideBar a {
             color:#555555
             }

#sideBar a:hover {
                   border-bottom: solid 2px red;
                   }

#sideBar ul a{
               #color:#555555;
               color:black;##FF8000;
               list-style-type:underline;
               }

#contact a {
             color:#555555
             }

#contact a:hover {
                   text-decoration:none;
                   }

#contact a:visited{
                    color:#0000cc;
                    }


/*-------------------------------------------------------------------------
Sheet   : Index and post sheets
Purpose : Format the postings
Comment : each post has a post and post-intro division
This is probably NOT the right way, since I created specific formatting under
the 'general' settings.

--------------------------------------------------------------------------*/
/* h2 is also used for the blog post title...
   h6 is special; it's used to format the 'continue reading ..' link    
*/

#post { 
        margin:  1em 1em 1em 1em;
        padding: 1em 1em 1em 1em;
        border: 0.1em solid #FF8000;
        background:#F5F5F5;
        }

#post p { 
          background:#F5F5F5;
        }


/* h2 is also used for the blog post title...*/
#post h2 {
           border-bottom:solid 1px #000000;
           color: #0000cc;
           font:bold 160% Sans-Serif;
           }


/*this is a special format to bring h2 in line with the other formats..*/

#post-intro h2 {
                 #color:#595959;
                 color:black;
                 border-bottom:dotted 0px #cccccc;
                 font-size:140%;
                 }

#post-body h2 {
                color:#595959;
                #color:black;
                border-bottom:dotted 0px #cccccc;
                font-size:140%;
                }

/* h6 is special; it's used to format the 'continue reading ..' link */
#post h6 {
          margin:4px 0px 0px 0px;
          color:#0000cc;
          #font-family : 'Sans Serif';
          font-size   : 14px;
          font-weight : bold;
          }


/*---------------------------------------------------------------
Sheet   : Index and post sheets
Purpose : Format the visible time stamp
Comment : Each blog post has a time stamp in a specific div. 

----------------------------------------------------------------*/
#post-timestamp p {  
                    margin:0px 0px 18px 0px;
                    border-bottom-width : 4px;
                    color : #cc0000;
                    #font-family : , 'Sans Serif',;
                    font-size : 12px;
                    height : 4px;

                    }

/*---------------------------------------------------------------
Sheet   : Index sheet
Purpose : Format the footer
Comment : Basically sets up a footer pointing to the bliky location
          on github, with a barely visible link ref.

----------------------------------------------------------------*/
#footer p { 
            #font-family : , 'Sans Serif',;           
            font-size:.75em;
            margin-top: 3em;
            text-align: center;
            text-indent: 0;
           }
#footer a { color:#222222; }

#footer a:hover {
                  border-bottom: solid 2px red;
                  }


/* ---------------------------------------------------------------------
Sheet       : post-edit.tmpl
Purpose     : edit a blog post
Comment     : These are the styles used when editing 
a blog post

-----------------------------------------------------------------------*/
#edit-page{
            float:left;
            padding:13px 50px 10px 5%;
            width:80%;
            }


#edit-header {                
               margin:0px 0px 0px 0px;
               font-size:240%;
               }

#edit-header h1 { 
                  margin:0px 0px 0px 0px;
                  color:salmon; 
                  text-align: center;
                  }

#intro-buttons {  
                 margin:8px 0px 8px 0px;
                 #background:#caff70;
                 background:#f5deb3;
                 border:solid 1px #cd0000;
}

#intro-buttons input {  
                      margin:2px 0px 2px 0px;
                      text-align:left;
                      #width:48%;
                      font-family : 'Sans Serif';
                      font-size : 20px;
                      #background:#F5F5F5;
                      #background:#caff70;
                       background:#d3d3d3;
                      }                       

#intro-edit input {  
                    margin:20px 0px 20px 0px;
                    text-align:left;
                    width:100%;
                    font-family : 'Sans Serif';
                    font-size : 18px;
                    #background:#F5F5F5;
                    background:#f5deb3;
                    }                       

#intro-edit textarea {  
                       margin:0px 0px 0px 0px;
                       text-align:left;
                       width:100%;
                       font-family : 'Sans Serif';
                       font-size : 18px;
                       #background:#F5F5F5;
                       background:#f5deb3;
                       }                       

#intro-edit h2 {
                 border-bottom:solid 1px #000000;
                 color: #0000cc;
                 font:bold 110% Verdana,Sans-Serif;
                 }


/*--------------end of post-edit.tmpl style -------------------------*/
/* ---------------------------------------------------------------------
Sheet       : import.tmpl
Purpose     : import a repo
Comment     : These are the styles used when importing a repo
               

-----------------------------------------------------------------------*/
#import-page{
            float:left;
            padding:13px 50px 10px 5%;
            width:80%;
            }


#import-header {                
               margin:0px 0px 0px 0px;
               font-size:240%;
               }

#import-header h1 { 
                  margin:0px 0px 0px 0px;
                  color:salmon; 
                  text-align: center;
                  }


/*--------------end of import.tmpl style -------------------------*/

/* ---------------------------------------------------------------------
Sheet       : import.tmpl
Purpose     : import a repo
Comment     : These are the styles used when importing a repo
-----------------------------------------------------------------------*/

#options-header {                
                  margin:0px 0px 0px 0px;
                  font-size:240%;
                  }

#options-header h1 { 
                     margin:0px 0px 0px 0px;
                     color:salmon; 
                     text-align: center;
                     }

#options-page{
               float:left;
               padding:10px 0px 0px 50px;
               width:80%;
               font-size: 100%;
               }


/*----------------- end of options style ----------------------------*/


    </style>
  </head>  

  <body>
    <div id="blog-title">
      <a href="/"> <h1> Programmer Notes </h1> </a> 
    </div>
    
    <div id="mainClm">
      <div id="post">
	<div id="post-type" style="visibility:hidden">
	  <p>"post"</p>
	</div>
	<div id="post-timestamp" >
	  <p>Sun, 19 Jul 2009 11:49:05 EST </p>
	</div>
	<div id="post-header">
	  <h2> CL-BLIKY : A simple lisp based blog engine  </h2>
	</div>
	<div id="post-intro">
	  <p>I 'm writing this using a self rolled blog engine called cl-bliky. I'm indebted to an excellent <a href="http://roeim.net/vetle/docs/cl-webapp-intro/">tutorial</a> put together by <a href="http://roeim.net/vetle/">Vetle Roeim</a>. His goal was obviously to put together a compelling tutorial and he succeeded. My goal was to use lisp in a small programming project, and developing a simple and easily customizable blog engine seemed like a good start. </p>
	</div>
	<div id="post-body">
	  <p><br>cl-bliky is build around a simple <a href="http://www.weitz.de/hunchentoot/">hunchentoot</a> web server. <a href="http://www.cliki.net/htmlgen">Dynamically generated html</a>  is used to provide a gui interface to provide an upload and edit facility for posts as well as a facility for publishing posts to the remote repository. <a href="http://common-lisp.net/project/elephant/">Elephant</a> is used together with <a href="http://www.oracle.com/technology/products/berkeley-db/index.html">Berkeley DB</a> to store the posts on the local disk.  <br /> <br /> The engine generates static pages from the posts stored in the database. These static pages are pushed a local git repository, which is then synced with a remote one hosted on <a href="http://www.github.com">github</a>. Hosting is done through  <a href="http://pages.github.com">github pages</a>. Each post has a title, an introduction and a body. I decided against some automated form of intro generation, because at the end of the day you"ll never be able to get it completely right. Leaving it in the hands of the writer seems more appropriate.  <br /> <br /> The engine recognizes two types of blog posts : regular posts, and side bar elements.  Side bar elements are used for things like a list of code repositories or other short notices.  <br /> <br /> Posts can be written in html and markdown and I'm using <a href="http://common-lisp.net/project/cl-markdown/">cl-markdown</a> to translate <a href="http://daringfireball.net/projects/markdown">markdown</a> to html.A 'feature' I added was to remove all line feed characters and to mark an empty line with an <html>  break which seems to be added by the web interface. This makes the encoding of 'hard' line breaks a little different from standard<a href="http://daringfireball.net/projects/markdown">markdown</a>. This is now a combination of less than three spaces at the end of a line plus an additional line break followed by less than three spaces.  <br /> <br /> Pushing the posts to the local or remote git repository is straight forward. I used sbcl's proprietary sb-ext to accomplish this. I haven't tried to use other lisp implementations.     <br /> <br /> Posts can be recreated from the git repo. I do this by sprinkling the html generated by bliky with various "&lt;div id=.." tags. That allows me to identify the various pieces I need to recreate the underlying object. I use <a href="http://www.cliki.net/CL-HTML-Parse">cl-html-parse</a> to do this, followed by <a href="http://www.cliki.net/htmlgen">htmlgen</a> to recreate the html in the posts.  <br /> <br /> There 's some loss in fidelity, since I don't translate the html back to markdown. Also, things delimited by brackets <>  are interpreted as tags by the <a href="http://www.cliki.net/CL-HTML-Parse">cl-html-parse</a>. The text can obviously be copied and pasted from the original post, so this shouldn't be too much of a problem.  <br /> <br /> The current implementation assumes that  <a href="http://pages.github.com">github pages</a> are used for hosting. However, it should be relatively simple to add hosting through any other simple page server. </p> 
	</div>
	<div id="post-timestamp-id" style="visibility:hidden">
	  <p>3457007345 </p>
	</div>
      </div>

      <div id="footer">
	<p>
	  Powered by <a href="http://www.github.com/fons/cl-bliky"> cl-bliky </a>
	</p>
      </div>
      
    </div><!-- end of main area -->

  </body>
</html>
